(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{1890:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n.Z}});var n=r(17812)},80150:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n.Z}});var n=r(38799)},7613:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n.Z}});var n=r(79895)},78252:function(e,t,r){"use strict";var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(67154)),a=r(45058),i=n(r(22719));var l=function(e,t){return(0,a.withStyles)(e,(0,o.default)({defaultTheme:i.default},t))};t.default=l},428:function(e,t,r){"use strict";var n=r(95318),o=r(20862);t.Z=void 0;var a=o(r(67294)),i=(0,n(r(2108)).default)(a.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.Z=i},30808:function(e,t,r){"use strict";var n=r(95318),o=r(20862);t.Z=void 0;var a=o(r(67294)),i=(0,n(r(2108)).default)(a.createElement("path",{d:"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"}),"RestaurantMenu");t.Z=i},94184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},3586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(67294)),o=f(r(45697)),a=f(r(1890)),i=f(r(80150)),l=f(r(7613)),u=f(r(35996)),s=f(r(88995)),c=f(r(78252)),d=f(r(94184));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var v=n.default.forwardRef((function(e,t){var r=e.cancelOnEscape,o=e.className,u=e.classes,s=e.closeIcon,c=e.disabled,f=e.onCancelSearch,g=e.onRequestSearch,v=e.searchIcon,y=e.style,O=b(e,["cancelOnEscape","className","classes","closeIcon","disabled","onCancelSearch","onRequestSearch","searchIcon","style"]),j=n.default.useRef(),x=h(n.default.useState(O.value),2),C=x[0],w=x[1];n.default.useEffect((function(){w(O.value)}),[O.value]);var I=n.default.useCallback((function(e){O.onFocus&&O.onFocus(e)}),[O.onFocus]),S=n.default.useCallback((function(e){w((function(e){return e.trim()})),O.onBlur&&O.onBlur(e)}),[O.onBlur]),D=n.default.useCallback((function(e){w(e.target.value),O.onChange&&O.onChange(e.target.value)}),[O.onChange]),k=n.default.useCallback((function(){w(""),f&&f()}),[f]),P=n.default.useCallback((function(){g&&g(C)}),[g,C]),T=n.default.useCallback((function(e){13===e.charCode||"Enter"===e.key?P():!r||27!==e.charCode&&"Escape"!==e.key||k(),O.onKeyUp&&O.onKeyUp(e)}),[P,r,k,O.onKeyUp]);return n.default.useImperativeHandle(t,(function(){return{focus:function(){j.current.focus()},blur:function(){j.current.blur()}}})),n.default.createElement(l.default,{className:(0,d.default)(u.root,o),style:y},n.default.createElement("div",{className:u.searchContainer},n.default.createElement(i.default,m({},O,{inputRef:j,onBlur:S,value:C,onChange:D,onKeyUp:T,onFocus:I,fullWidth:!0,className:u.input,disableUnderline:!0,disabled:c}))),n.default.createElement(a.default,{onClick:P,className:(0,d.default)(u.iconButton,u.searchIconButton,p({},u.iconButtonHidden,""!==C)),disabled:c},n.default.cloneElement(v,{classes:{root:u.icon}})),n.default.createElement(a.default,{onClick:k,className:(0,d.default)(u.iconButton,p({},u.iconButtonHidden,""===C)),disabled:c},n.default.cloneElement(s,{classes:{root:u.icon}})))}));v.defaultProps={className:"",closeIcon:n.default.createElement(u.default,null),disabled:!1,placeholder:"Search",searchIcon:n.default.createElement(s.default,null),style:null,value:""},v.propTypes={cancelOnEscape:o.default.bool,classes:o.default.object.isRequired,className:o.default.string,closeIcon:o.default.node,disabled:o.default.bool,onCancelSearch:o.default.func,onChange:o.default.func,onRequestSearch:o.default.func,placeholder:o.default.string,searchIcon:o.default.node,style:o.default.object,value:o.default.string};var y=(0,c.default)((function(e){return{root:{height:e.spacing(6),display:"flex",justifyContent:"space-between"},iconButton:{color:e.palette.action.active,transform:"scale(1, 1)",transition:e.transitions.create(["transform","color"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeInOut})},iconButtonHidden:{transform:"scale(0, 0)","& > $icon":{opacity:0}},searchIconButton:{marginRight:e.spacing(-6)},icon:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeInOut})},input:{width:"100%"},searchContainer:{margin:"auto 16px",width:"calc(100% - ".concat(e.spacing(10),"px)")}}}))(v);t.default=y},83286:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(3586))&&n.__esModule?n:{default:n}},66738:function(e,t,r){"use strict";var n,o=(n=r(83286))&&n.__esModule?n:{default:n}},82526:function(e,t,r){"use strict";var n=r(85893),o=(r(67294),r(21890),r(14494)),a=r(72132),i=r(31508),l=r(52543),u=r(22318);r(68054),(0,l.Z)((function(e){return{margin:{margin:e.spacing(2),textDecoration:"none"},button:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:"#ffffff",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#ffffff"}},paper:{margin:"auto"}}}))((function(e){(0,o.v9)((function(e){return e.firebase.auth})),(0,o.v9)((function(e){return e}));var t=(0,o.I0)(),r=e.classes,l=e.data;(0,o.v9)((function(e){return e.storeItems.addedItems}));return(0,n.jsx)(i.zx,{className:r.button,onClick:function(e){var r;e.preventDefault(),r=l.id,t(addQuantityWithNumber(r,1)),a.Am.success("Added to the cart",{position:"bottom-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:"DESTROY_SESSION"})},style:{textDecoration:"none"},children:(0,n.jsx)(u.Z,{variant:"button",children:"ADD TO CART"})})}))},42138:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(85893),o=r(67294),a=r(26265),i=r(91071),l=r(41120),u=r(41749),s=r(7397),c=r(24837),d=r(282),f=r(31508),p=r(30808),m=r(428),h=r(61798),g=r(14494),b=r(91143),v=r(68054),y=r(2014),O=r(80447),j=r(30381),x=r.n(j),C=r(58776);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=[],D=[{id:"none",title:"Select"},{id:"Cash",title:"Cash"},{id:"Card",title:"Card"}],k=[{id:"none",title:"Select"},{id:"Delivery",title:"Delivery"},{id:"Takeaway",title:"Takeaway"}],P=[{id:"none",title:"Select"},{id:"9-11am",title:"9-11am"},{id:"11-1pm",title:"11-1pm"},{id:"1-3pm",title:"1-3pm"},{id:"6-8pm",title:"6-8pm"},{id:"8-10pm",title:"8-10pm"}],T=[],Z=(0,l.Z)((function(e){var t;return{root:{flexGrow:1},container:{marginTop:e.spacing(2),marginBottom:e.spacing(5),alignItems:"center"},adornmentText:{"& .MuiTypography-root":{color:"#f3b33d",fontWeight:"bolder",fontSize:"1.5em"}},submitButtonGroup:(t={fontSize:"1.5em"},(0,a.Z)(t,e.breakpoints.down("md"),{fontSize:"1em"}),(0,a.Z)(t,"backgroundColor",e.palette.primary.main),(0,a.Z)(t,"color","#000"),(0,a.Z)(t,"margin",e.spacing(2)),(0,a.Z)(t,"padding",e.spacing(1)),(0,a.Z)(t,"& .MuiButton-label",{textTransform:"none"}),(0,a.Z)(t,"&:hover",{backgroundColor:e.palette.primary.dark}),t),input:{display:"wrap","&::placeholder":(0,a.Z)({color:"Black",fontStyle:"italic",fontSize:"1.2em"},e.breakpoints.down("md"),{fontSize:"1em"})},drawerIcon:{height:"30px",width:"30px"}}}));function E(e){var t=Z(),r=(0,g.I0)(),a=(0,g.v9)((function(e){return e.firebase}));S.push(x()(new Date).format("YYYY-MM-DD"));var l=e.values,j=e.setValues,w=e.errors,E=e.setErrors,N=e.handleInputChange,B=e.resetForm;console.log(l.orderDetails),(0,o.useEffect)((function(){O.Z.getThaliOrders().then((function(e){return e.data})).then((function(e){var t=e.map((function(e){return e.deliveryDate})),r=e.map((function(e){return e.deliveryTime}));(0,v.zR)(t).filter((function(e){return S.includes(e)||S.push(e),S})),console.log(S);var n=(0,v.zR)(r);P.filter((function(e){return n.includes(e.id)||T.includes(e)||T.push(e),e}))})).catch((function(e){return console.log(e)}))}),[]),(0,o.useEffect)((function(){var e=l.orderDetails.reduce((function(e,t){return e+t.quantity*t.price}),0);j(I(I({},l),{},{gTotal:(0,v.nC)(e)}))}),[]);console.log(l);return(0,n.jsx)("section",{className:t.root,children:(0,n.jsx)(u.Z,{container:!0,spacing:3,children:(0,n.jsxs)(u.Z,{item:!0,xs:12,children:[(0,n.jsxs)(i.Z,{onSubmit:function(e){e.preventDefault(),a&&a.auth.uid&&(l.uid=a.auth.uid,l.customerName=a.auth.displayName,l.email=a.auth.email,l.mobile=a.profile.mobile),l.deliveryDate=x()(l.deliveryDate).format("YYYY-MM-DD"),function(){var e={};return e.pMethod="none"!==l.pMethod?"":"Select Payment method.",e.deliveryTime="none"!==l.deliveryTime?"":"Select Time-slot",e.orderDetails=0!==l.orderDetails.length?"":"Please add items.",e.orderOption="none"!==l.orderOption?"":"Select Order Delivery option",E(I({},e)),Object.values(e).every((function(e){return""===e}))}()&&O.Z.createThaliOrder(l).then((function(e){r((0,b.Ev)("Your Order# ".concat(l.orderNumber))),B(),r((0,C.s9)()),(0,v.ud)(),setTimeout((function(){r((0,b.GT)())}),3e3)})).catch((function(e){r((0,b.Ev)("Something Went Wrong")),B(),setTimeout((function(){r((0,b.GT)())}),3e3)}))},children:[(0,n.jsxs)(u.Z,{container:!0,children:[(0,n.jsx)(f.II,{disabled:!0,label:"Order Number",name:"orderNumber",value:l.orderNumber,InputProps:{startAdornment:(0,n.jsx)(s.Z,{className:t.adornmentText,position:"start",children:"#"})}}),(0,n.jsx)(f.Mt,{label:"Decide Date",name:"deliveryDate",value:l.deliveryDate,shouldDisableDate:S,disablePast:!0,onChange:N}),(0,n.jsx)(f.Ph,{label:"Option",name:"orderOption",value:l.orderOption,onChange:N,options:k,error:w.orderOption}),(0,n.jsx)(f.II,{disabled:!0,label:"Customer Number",name:"customerNumber",color:"secondary",value:l.customerId.toUpperCase(),InputProps:{startAdornment:(0,n.jsx)(s.Z,{className:t.adornmentText,position:"start",children:"#"})}})]}),(0,n.jsx)(f.Ph,{label:"Time",name:"deliveryTime",value:l.deliveryTime,onChange:N,options:T&&T.length?T:P,error:w.deliveryTime}),(0,n.jsx)(f.Ph,{label:"Payment Mode",name:"pMethod",value:l.pMethod,onChange:N,options:D,error:w.pMethod}),(0,n.jsx)(f.II,{disabled:!0,label:"Grand Total",name:"gTotal",value:l.gTotal,InputProps:{startAdornment:(0,n.jsx)(s.Z,{className:t.adornmentText,position:"start",children:"\u20b9"})}}),(0,n.jsx)(u.Z,{xs:12,children:(0,n.jsx)(y.Z,{display:"flex",style:{justifyContent:"center"},p:1,m:2,children:(0,n.jsxs)(c.Z,{"aria-label":"outlined primary button group",children:[(0,n.jsx)(d.Z,{className:t.submitButtonGroup,size:"small",endIcon:(0,n.jsx)(p.Z,{}),type:"submit",children:"Place Order"}),(0,n.jsx)(d.Z,{className:t.submitButtonGroup,size:"small",onClick:B,startIcon:(0,n.jsx)(m.Z,{})})]})})})]}),(0,n.jsx)(h.Z,{})]})})})}var N=r(82759);r(82526),r(66738),r(21890),(0,l.Z)((function(e){return{searchPaper:{padding:"2px 4px",display:"flex",alignItems:"center"},displayPaper:{margin:e.spacing(4),marginLeft:"auto"},options:{marginLeft:"auto"},searchInput:{marginLeft:e.spacing(1.5),marginRight:e.spacing(2),flex:1},listRoot:{marginTop:e.spacing(1),maxHeight:350,overflow:"auto",backgroundColor:"#000000",color:"White",border:1,"& li:hover":{cursor:"pointer",backgroundColor:e.palette.primary.dark},"& li:hover .MuiButtonBase-root":{display:"block",color:"#000"},"& .MuiButtonBase-root":{display:"none"},"& .MuiButtonBase-root:hover":{backgroundColor:"transparent"}},listTxt:(0,a.Z)({},e.breakpoints.down("sm"),{fontSize:".2em",display:"inline"}),root:{flexGrow:1,marginTop:e.spacing(2),marginBottom:e.spacing(4),display:"flex",overflow:"hidden"},gridList:{width:"auto",height:"auto"},icon:{color:"rgba(255, 255, 255, 0.54)"},container:{marginTop:e.spacing(2),marginBottom:e.spacing(5),position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},customButton:{margin:e.spacing(1),borderRadius:15,width:200,textTransform:"none",fontSize:".8rem",color:"white",backgroundColor:e.palette.secondary.light,"&:hover":{backgroundColor:e.palette.primary.dark}}}}));(0,l.Z)((function(e){return{root:{maxWidth:345},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:e.palette.secondary.dark},buttonGroup:{display:"flex",flexDirection:"row",justifyContent:"center",padding:e.spacing(.2),margin:e.spacing(.2),"& .MuiButtonBase-root ":{},"& button:nth-child(2)":{color:"White",backgroundColor:e.palette.secondary.light}},totalPerItem:{fontWeight:"bolder",fontSize:".9em",margin:"0px 2px"},gridList:{width:"100%",height:"100%",flexWrap:"nowrap",transform:"translateZ(0)"},titleBar:{position:"absolute",fontWeight:"bold",color:"#FE3939"},title:{color:"#FE3939"}}}));var B=r(43832);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=(0,v.m1)(100),z=function(){return{uid:"",customerId:"",customerName:"",orderNumber:R,email:"",mobile:"",address:"",deliveryDate:x()(new Date).add(1,"d").format("YYYY-MM-DD"),deliveryTime:"none",orderOption:"none",pin:"",distance:"",orderDetails:[],gTotal:0,pMethod:"none",tPortion:"none",deletedOrderItemIds:""}},A=(0,l.Z)((function(e){return{root:{marginTop:e.spacing(10),marginBottom:e.spacing(12),display:"flex"}}}));function Y(){var e=(0,g.v9)((function(e){return e.firebase})),t=A(),r=(0,g.v9)((function(e){return e.storeItems.addedItems})),o=(0,N.c)(z),a=o.values,i=o.setValues,l=o.errors,u=o.setErrors,s=o.handleInputChange,c=o.resetForm;return console.log(r),a.orderDetails=r,a.customerId=e.profile.customerId&&e.profile.customerId?e.profile.customerId:"",(0,n.jsx)("section",{className:t.root,children:(0,n.jsx)(B.Z,{className:t.container,spacing:1,children:(0,n.jsx)(E,_({},{values:a,setValues:i,errors:l,setErrors:u,handleInputChange:s,resetForm:c,OrderedFoodItems:a.orderDetails}))})})}function L(){return(0,n.jsx)(Y,{})}},60354:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return r(42138)}])}},function(e){e.O(0,[5,128,490,774,888,179],(function(){return t=60354,e(e.s=t);var t}));var t=e.O();_N_E=t}]);